{"version":3,"sources":["webpack:///./src/templates/tag-posts.js"],"names":["tagQuery","TagPosts","data","tag","pageContext","totalCount","allMarkdownRemark","pageHeader","useState","hasMounted","setHasMounted","useEffect","md","className","edges","map","node","key","id","uid","frontmatter","title","author","date","body","excerpt","tags","fluid","image","childImageSharp","audio_url","palette","html"],"mappings":"8FAAA,qIA2DaA,EAAQ,aAqCNC,UArFE,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,KACVC,EADkC,EAAlBC,YAChBD,IACAE,EAAeH,EAAKI,kBAApBD,WACFE,EAAgBF,EAAN,SACC,IAAfA,EAAmB,GAAK,KADV,iBAECF,EAFD,IAH0B,EAONK,oBAAS,GAAtCC,EAPmC,KAOvBC,EAPuB,KAY1C,OAJAC,qBAAU,WACRD,GAAc,KACb,IAEED,EAKH,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKG,GAAG,KACN,yBAAKC,UAAU,iBACb,4BAAKN,IAENL,EAAKI,kBAAkBQ,MAAMC,KAAI,kBAAGC,EAAH,EAAGA,KAAH,OAChC,kBAAC,MAAD,GACEC,IAAKD,EAAKE,GACVC,IAAKH,EAAKI,YAAYD,IAEtBE,MAAOL,EAAKI,YAAYC,MACxBC,OAAQN,EAAKI,YAAYE,OACzBC,KAAMP,EAAKI,YAAYG,KACvBC,KAAMR,EAAKS,QACXC,KAAMV,EAAKI,YAAYM,KACvBC,MAAOX,EAAKI,YAAYQ,MAAMC,gBAAgBF,MAC9CG,UAAWd,EAAKI,YAAYU,UAC5BC,QAASf,EAAKI,YAAYW,UAX5B,KAYQf,EAAKgB,KAZb,QAgBJ,kBAAC,IAAD,CAAKpB,GAAG,KACN,kBAAC,IAAD,SA5BC","file":"component---src-templates-tag-posts-js-36b87b7540910ee04555.js","sourcesContent":["// import React from \"react\";\nimport React, { useState, useEffect } from \"react\";\nimport { graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport Post from \"../components/Post\";\nimport { Row, Col } from \"reactstrap\";\nimport Sidebar from \"../components/Sidebar\";\n// import StateContextProvider from \"../components/stateContext\";\n\n// import { slugify } from \"../utils/utilityFunctions\";\n\nconst TagPosts = ({ data, pageContext }) => {\n  const { tag } = pageContext;\n  const { totalCount } = data.allMarkdownRemark;\n  const pageHeader = `${totalCount} post${\n    totalCount === 1 ? \"\" : \"s\"\n  } tagged with \"${tag}\"`;\n\n  const [hasMounted, setHasMounted] = useState(false);\n  useEffect(() => {\n    setHasMounted(true);\n  }, []);\n\n  if (!hasMounted) {\n    return null;\n  }\n\n  return (\n    <Layout>\n      <Row>\n        <Col md=\"8\">\n          <div className=\"tagPostsTitle\">\n            <h5>{pageHeader}</h5>\n          </div>\n          {data.allMarkdownRemark.edges.map(({ node }) => (\n            <Post\n              key={node.id}\n              uid={node.frontmatter.uid}\n              // slug={node.fields.slug}\n              title={node.frontmatter.title}\n              author={node.frontmatter.author}\n              date={node.frontmatter.date}\n              body={node.excerpt}\n              tags={node.frontmatter.tags}\n              fluid={node.frontmatter.image.childImageSharp.fluid}\n              audio_url={node.frontmatter.audio_url}\n              palette={node.frontmatter.palette}\n              body={node.html}\n            />\n          ))}\n        </Col>\n        <Col md=\"4\">\n          <Sidebar />\n        </Col>\n      </Row>\n    </Layout>\n  );\n};\n\nexport const tagQuery = graphql`\n  query($tag: String!) {\n    allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      filter: { frontmatter: { tags: { in: [$tag] } } }\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          frontmatter {\n            uid\n            title\n            date(formatString: \"MMMM Do YYYY\")\n            author\n            tags\n            audio_url\n            palette\n            image {\n              childImageSharp {\n                fluid(maxWidth: 650, maxHeight: 370) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n          }\n          fields {\n            slug\n          }\n          excerpt\n          html\n        }\n      }\n    }\n  }\n`;\n\nexport default TagPosts;\n"],"sourceRoot":""}